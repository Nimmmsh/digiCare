{% extends "base.html" %}

{% block title %}Patient: {{ patient.full_name }}{% endblock %}

{% block content %}
<!--
Patient View: Doctor views a specific patient's full details.
Read-only view with link to edit.
-->
<h1 style="margin-bottom: 20px;">Patient Details</h1>

<div class="card">
    <h2>{{ patient.full_name }}</h2>
    
    <div class="detail-row">
        <div class="detail-label">Email</div>
        <div class="detail-value">{{ patient.email }}</div>
    </div>
    <div class="detail-row">
        <div class="detail-label">Phone</div>
        <div class="detail-value">{{ details.phone if details and details.phone else 'Not on file' }}</div>
    </div>
    <div class="detail-row">
        <div class="detail-label">Date of Birth</div>
        <div class="detail-value">{{ details.date_of_birth if details and details.date_of_birth else 'Not on file' }}</div>
    </div>
    
    <h3 style="margin-top: 20px; margin-bottom: 10px;">Medical Notes</h3>
    {% if details and details.medical_notes %}
    <p style="white-space: pre-wrap; background: #f8f9fa; padding: 15px; border-radius: 4px;">{{ details.medical_notes }}</p>
    {% else %}
    <p style="color: #666;">No medical notes on file.</p>
    {% endif %}
    
    <div style="margin-top: 20px;">
        <a href="{{ url_for('main.doctor_edit_patient', patient_id=patient.id) }}" class="btn">Edit Patient</a>
        <a href="{{ url_for('main.doctor_dashboard') }}" class="btn btn-secondary">Back to Dashboard</a>
    </div>
</div>
{% endblock %}

